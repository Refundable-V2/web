{"remainingRequest":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\src\\components\\new\\Escorts.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\src\\components\\new\\Escorts.vue","mtime":1614612410443},{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609420103064},{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1609420100797},{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609420103064},{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1609420128563}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRXNjb3J0c0NvbXAgZnJvbSAiQC9jb21wb25lbnRzL25ldy9Fc2NvcnRzQ29tcC52dWUiOw0KaW1wb3J0IFRyYXZlbEFwcGxpY2F0aW9uIGZyb20gIkAvY29tcG9uZW50cy9uZXcvVHJhdmVsQXBwbGljYXRpb24udnVlIjsNCmltcG9ydCBUcmF2ZWxCaWwgZnJvbSAiQC9jb21wb25lbnRzL25ldy9UcmF2ZWxCaWxsLnZ1ZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIk5ld0FwcGxpY2F0aW9uIiwNCiAgY29tcG9uZW50czogew0KICAgIFRyYXZlbEFwcGxpY2F0aW9uLA0KICAgIEVzY29ydHNDb21wLA0KICAgIFRyYXZlbEJpbA0KICB9LA0KICBwcm9wczogWyJlc2NvcnRzIiwgInVzZXIiXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdHJhdmVsRGF0YTogW10NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hhbmdlQ29tcG9uZW50KGNvbXBvbmVudCwgYmFjayA9IHRydWUsIGFwcGxpY2F0aW9uID0gbnVsbCkgew0KICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlLWNvbXBvbmVudCIsIGNvbXBvbmVudCwgYmFjaywgYXBwbGljYXRpb24pOw0KICAgIH0sDQogICAgY2hlY2tDbGljaygpIHsNCiAgICAgIGlmICgNCiAgICAgICAgd2luZG93DQogICAgICAgICAgLmdldFNlbGVjdGlvbigpDQogICAgICAgICAgLnRvU3RyaW5nKCkNCiAgICAgICAgICAudHJpbSgpID09PSAiIg0KICAgICAgKSB7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0sDQogICAgaW5kZXgoKSB7DQogICAgICBpZiAodGhpcy5jaGVja0NsaWNrKCkpIHsNCiAgICAgICAgdGhpcy5jaGFuZ2VDb21wb25lbnQoIkluZGV4Iik7DQogICAgICB9DQogICAgfSwNCiAgICB1cGRhdGVUcmF2ZWwoaW5kZXgsIGRhdGEpIHsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLnBlcnNvbmFsbnVtbWVyID0gZGF0YS5wZXJzb25hbG51bW1lcjsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLnRyYW5zcG9ydCA9IGRhdGEudHJhbnNwb3J0Ow0KICAgICAgdGhpcy5lc2NvcnRzLm91dHB1dFtpbmRleF0uYXVzZ2FuZ3NwdXVua3QgPSBkYXRhLmF1c2dhbmdzcHV1bmt0Ow0KICAgICAgdGhpcy5lc2NvcnRzLm91dHB1dFtpbmRleF0uZW5kcHVua3QgPSBkYXRhLmVuZHB1bmt0Ow0KICAgICAgdGhpcy5lc2NvcnRzLm91dHB1dFtpbmRleF0ucmVhc29uID0gZGF0YS5yZWFzb247DQogICAgICB0aGlzLmVzY29ydHMub3V0cHV0W2luZGV4XS5ib251c19tZWlsZW4gPSBkYXRhLmJvbnVzX21laWxlbjsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLnJlaXNla29zdGVuID0gZGF0YS5yZWlzZWtvc3RlbjsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLnJlaXNla29zdGVuX3ZvbiA9IGRhdGEucmVpc2Vrb3N0ZW5fdm9uOw0KICAgICAgdGhpcy5lc2NvcnRzLm91dHB1dFtpbmRleF0uYXVmZW50aGFsdHNrb3N0ZW4gPSBkYXRhLmF1ZmVudGhhbHRza29zdGVuOw0KICAgICAgdGhpcy5lc2NvcnRzLm91dHB1dFtpbmRleF0uYXVmZW50aGFsdHNrb3N0ZW5fdm9uID0NCiAgICAgICAgZGF0YS5hdWZlbnRoYWx0c2tvc3Rlbl92b247DQogICAgICB0aGlzLmVzY29ydHMub3V0cHV0W2luZGV4XS5zb25zdGlnZV9rb3N0ZW4gPSBkYXRhLnNvbnN0aWdlX2tvc3RlbjsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLmdlc2NoYWV0enRlX2tvc3RlbiA9IGRhdGEuZ2VzY2hhZXR6dGVfa29zdGVuOw0KICAgIH0sDQogICAgZWlucmVpY2hlbigpIHsNCiAgICAgIGlmICh0aGlzLmNoZWNrQ2xpY2soKSkgew0KICAgICAgICB2YXIgZGF0YSA9IHsNCiAgICAgICAgICBuYW1lOiB0aGlzLmVzY29ydHMuZGVzY3JpcHRpb24sDQogICAgICAgICAgdHlwZTogMCwNCiAgICAgICAgICBzdGFydFRpbWVTdGFtcDogbmV3IERhdGUoDQogICAgICAgICAgICB0aGlzLmVzY29ydHMuc3RhcnREYXRlICsgIlQiICsgdGhpcy5lc2NvcnRzLnN0YXJ0VGltZQ0KICAgICAgICAgICksDQogICAgICAgICAgZW5kVGltZVN0YW1wOiBuZXcgRGF0ZSgNCiAgICAgICAgICAgIHRoaXMuZXNjb3J0cy5lbmREYXRlICsgIlQiICsgdGhpcy5lc2NvcnRzLmVuZFRpbWUNCiAgICAgICAgICApLA0KICAgICAgICAgIGFubWVya3VuZzogdGhpcy5lc2NvcnRzLm5vdGVzLA0KICAgICAgICAgIHppZWxBZHJlc3NlOiB0aGlzLmVzY29ydHMuZW5kLA0KICAgICAgICAgIHN0YXJ0QWRyZXNzZTogdGhpcy5lc2NvcnRzLnN0YXJ0LA0KICAgICAgICAgIGxlYWRlcjogdGhpcy51c2VyLA0KICAgICAgICAgIGVzY29ydHM6IHRoaXMuZXNjb3J0cy50ZWFjaGVyLA0KICAgICAgICAgIGNsYXNzZXM6IHRoaXMuZXNjb3J0cy5jbGFzcywNCiAgICAgICAgICBjb3VudF9zdHVkZW50X21hbGU6IHRoaXMuZXNjb3J0cy5jb3VudF9zdHVkZW50X21hbGUsDQogICAgICAgICAgY291bnRfc3R1ZGVudF9mZW1hbGU6IHRoaXMuZXNjb3J0cy5jb3VudF9zdHVkZW50X2ZlbWFsZSwNCiAgICAgICAgICBsZW5ndGg6IHRoaXMuZXNjb3J0cy5leGt1cnNMZW5ndGgsDQogICAgICAgICAgdGVhY2hlcjogdGhpcy5lc2NvcnRzLm91dHB1dA0KICAgICAgICB9Ow0KICAgICAgICAvL0FucGFzc2VuDQogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAvL1pldWdzIGFuIE1pY2hpIHNjaGlja2VuIHVuZCBzbyBmb3JtYXRpZXJlbiwgZGFzcyBNaWNoaSB3YXMgZGFtaXQgYW5mYW5nZW4ga2Fubg0KICAgICAgICAvL3RoaXMuY2hhbmdlQ29tcG9uZW50KCJJbmRleCIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2hhbmdlU3RhcnREYXRlKGluZGV4LCBuZXdTdGFydERhdGUpIHsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLnN0YXJ0RGF0ZSA9IG5ld1N0YXJ0RGF0ZTsNCiAgICB9LA0KICAgIGNoYW5nZUVuZERhdGUoaW5kZXgsIG5ld0VuZERhdGUpIHsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLmVuZERhdGUgPSBuZXdFbmREYXRlOw0KICAgIH0sDQogICAgY2hhbmdlU3RhcnRUaW1lKGluZGV4LCBuZXdTdGFydFRpbWUpIHsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLnN0YXJ0VGltZSA9IG5ld1N0YXJ0VGltZTsNCiAgICB9LA0KICAgIGNoYW5nZUVuZFRpbWUoaW5kZXgsIG5ld0VuZFRpbWUpIHsNCiAgICAgIHRoaXMuZXNjb3J0cy5vdXRwdXRbaW5kZXhdLmVuZFRpbWUgPSBuZXdFbmRUaW1lOw0KICAgIH0sDQogICAgY2hhbmdlU2VsZWN0ZWQoaW5kZXgsIG5ld1NlbGVjdGVkKSB7DQogICAgICB0aGlzLmVzY29ydHMub3V0cHV0W2luZGV4XS5zZWxlY3RlZCA9IG5ld1NlbGVjdGVkOw0KICAgIH0sDQogICAgdmFsaWRhdGVUaW1lKG5ld1ZhbGlkVGltZSkgew0KICAgICAgdGhpcy52YWxpZFRpbWUgPSBuZXdWYWxpZFRpbWU7DQogICAgfSwNCiAgICBzY2hvb2woKSB7DQogICAgICBpZiAodGhpcy5jaGVja0NsaWNrKCkpIHsNCiAgICAgICAgdGhpcy5jaGFuZ2VDb21wb25lbnQoIlNjaG9vbCIpOw0KICAgICAgfQ0KICAgIH0sDQogICAgdWViZXJzaWNodCgpIHsNCiAgICAgIGlmICh0aGlzLmNoZWNrQ2xpY2soKSkgew0KICAgICAgICB0aGlzLmNoYW5nZUNvbXBvbmVudCgiTmV3QXBwbGljYXRpb24iKTsNCiAgICAgIH0NCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["Escorts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Escorts.vue","sourceRoot":"src/components/new","sourcesContent":["<template>\r\n  <b-container fluid>\r\n    <b-row align-h=\"center\">\r\n      <b-col cols=\"12\">\r\n        <b-container fluid>\r\n          <b-row align-v=\"center\" align-h=\"center\">\r\n            <b-col cols=\"12\" md=\"6\">\r\n              <h1 id=\"new-application-heading\">Neuen Antrag erstellen</h1>\r\n            </b-col>\r\n            <div class=\"col-12 col-md-6\">\r\n              <b-button\r\n                variant=\"outline-primary\"\r\n                class=\"float-right\"\r\n                v-on:click=\"index\"\r\n              >\r\n                <b-icon icon=\"house\" aria-hidden=\"true\"></b-icon> Startseite\r\n              </b-button>\r\n            </div>\r\n          </b-row>\r\n          <b-row>\r\n            <b-col cols=\"12\">\r\n              <b-breadcrumb style=\"background-color: white\">\r\n                <b-breadcrumb-item v-on:click=\"uebersicht\"\r\n                  >Antrag Ãœbersicht</b-breadcrumb-item\r\n                >\r\n                <b-breadcrumb-item v-on:click=\"school\"\r\n                  >Schulveranstaltung - Allg. Infos</b-breadcrumb-item\r\n                >\r\n                <b-breadcrumb-item active>Begleitpersonal</b-breadcrumb-item>\r\n              </b-breadcrumb>\r\n            </b-col>\r\n          </b-row>\r\n          <b-row align-h=\"center\">\r\n            <b-col cols=\"12\" md=\"8\">\r\n              <div\r\n                v-for=\"(escort, index) in escorts.output\"\r\n                v-bind:key=\"escort.id\"\r\n              >\r\n                <EscortsComp\r\n                  v-bind:escort=\"escort\"\r\n                  v-bind:index=\"index\"\r\n                  v-bind:bsd=\"escorts.startDate\"\r\n                  v-bind:bst=\"escorts.startTime\"\r\n                  v-bind:bed=\"escorts.endDate\"\r\n                  v-bind:bet=\"escorts.endTime\"\r\n                  v-on:startDate=\"changeStartDate\"\r\n                  v-on:endDate=\"changeEndDate\"\r\n                  v-on:startTime=\"changeStartTime\"\r\n                  v-on:endTime=\"changeEndTime\"\r\n                  v-on:selected=\"changeSelected\"\r\n                  v-on:validTime=\"validateTime\"\r\n                />\r\n                <TravelApplication\r\n                  v-bind:escort=\"escort\"\r\n                  v-bind:index=\"index\"\r\n                  v-on:update=\"updateTravel\"\r\n                />\r\n              </div>\r\n              <TravelBill v-bind:escort=\"escort\"\r\n                  v-bind:index=\"index\"/>\r\n              <center>\r\n                <button v-on:click=\"einreichen\" class=\"blueish-gradiant\">\r\n                  Einreichen\r\n                </button>\r\n              </center>\r\n            </b-col>\r\n          </b-row>\r\n        </b-container>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n<script>\r\nimport EscortsComp from \"@/components/new/EscortsComp.vue\";\r\nimport TravelApplication from \"@/components/new/TravelApplication.vue\";\r\nimport TravelBil from \"@/components/new/TravelBill.vue\";\r\n\r\nexport default {\r\n  name: \"NewApplication\",\r\n  components: {\r\n    TravelApplication,\r\n    EscortsComp,\r\n    TravelBil\r\n  },\r\n  props: [\"escorts\", \"user\"],\r\n  data() {\r\n    return {\r\n      travelData: []\r\n    };\r\n  },\r\n  methods: {\r\n    changeComponent(component, back = true, application = null) {\r\n      this.$emit(\"change-component\", component, back, application);\r\n    },\r\n    checkClick() {\r\n      if (\r\n        window\r\n          .getSelection()\r\n          .toString()\r\n          .trim() === \"\"\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    index() {\r\n      if (this.checkClick()) {\r\n        this.changeComponent(\"Index\");\r\n      }\r\n    },\r\n    updateTravel(index, data) {\r\n      this.escorts.output[index].personalnummer = data.personalnummer;\r\n      this.escorts.output[index].transport = data.transport;\r\n      this.escorts.output[index].ausgangspuunkt = data.ausgangspuunkt;\r\n      this.escorts.output[index].endpunkt = data.endpunkt;\r\n      this.escorts.output[index].reason = data.reason;\r\n      this.escorts.output[index].bonus_meilen = data.bonus_meilen;\r\n      this.escorts.output[index].reisekosten = data.reisekosten;\r\n      this.escorts.output[index].reisekosten_von = data.reisekosten_von;\r\n      this.escorts.output[index].aufenthaltskosten = data.aufenthaltskosten;\r\n      this.escorts.output[index].aufenthaltskosten_von =\r\n        data.aufenthaltskosten_von;\r\n      this.escorts.output[index].sonstige_kosten = data.sonstige_kosten;\r\n      this.escorts.output[index].geschaetzte_kosten = data.geschaetzte_kosten;\r\n    },\r\n    einreichen() {\r\n      if (this.checkClick()) {\r\n        var data = {\r\n          name: this.escorts.description,\r\n          type: 0,\r\n          startTimeStamp: new Date(\r\n            this.escorts.startDate + \"T\" + this.escorts.startTime\r\n          ),\r\n          endTimeStamp: new Date(\r\n            this.escorts.endDate + \"T\" + this.escorts.endTime\r\n          ),\r\n          anmerkung: this.escorts.notes,\r\n          zielAdresse: this.escorts.end,\r\n          startAdresse: this.escorts.start,\r\n          leader: this.user,\r\n          escorts: this.escorts.teacher,\r\n          classes: this.escorts.class,\r\n          count_student_male: this.escorts.count_student_male,\r\n          count_student_female: this.escorts.count_student_female,\r\n          length: this.escorts.exkursLength,\r\n          teacher: this.escorts.output\r\n        };\r\n        //Anpassen\r\n        console.log(data);\r\n        //Zeugs an Michi schicken und so formatieren, dass Michi was damit anfangen kann\r\n        //this.changeComponent(\"Index\");\r\n      }\r\n    },\r\n    changeStartDate(index, newStartDate) {\r\n      this.escorts.output[index].startDate = newStartDate;\r\n    },\r\n    changeEndDate(index, newEndDate) {\r\n      this.escorts.output[index].endDate = newEndDate;\r\n    },\r\n    changeStartTime(index, newStartTime) {\r\n      this.escorts.output[index].startTime = newStartTime;\r\n    },\r\n    changeEndTime(index, newEndTime) {\r\n      this.escorts.output[index].endTime = newEndTime;\r\n    },\r\n    changeSelected(index, newSelected) {\r\n      this.escorts.output[index].selected = newSelected;\r\n    },\r\n    validateTime(newValidTime) {\r\n      this.validTime = newValidTime;\r\n    },\r\n    school() {\r\n      if (this.checkClick()) {\r\n        this.changeComponent(\"School\");\r\n      }\r\n    },\r\n    uebersicht() {\r\n      if (this.checkClick()) {\r\n        this.changeComponent(\"NewApplication\");\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}