{"remainingRequest":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\src\\components\\new\\EscortsComp.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\src\\components\\new\\EscortsComp.vue","mtime":1614589238188},{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609420103064},{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1609420100797},{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1609420103064},{"path":"C:\\Users\\linus\\Documents\\Diplomarbeit\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":1609420128563}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogWyJ1cmwiLCAiZXNjb3J0IiwgImluZGV4IiwgImJzZCIsICJic3QiLCAiYmVkIiwgImJldCJdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWxlY3RlZDogIiIsDQogICAgICBsb25nbmFtZTogIiIsDQogICAgICB2YWxpZFRpbWU6IG51bGwsDQogICAgICBvdXRCYXNlVGltZTogdHJ1ZSwNCiAgICAgIG5lZ1RpbWU6IHRydWUsDQogICAgICBvcHRpb25zOiBbDQogICAgICAgIHsgaXRlbTogIkEiLCBuYW1lOiAiTDEiIH0sDQogICAgICAgIHsgaXRlbTogIkIiLCBuYW1lOiAiTDIiIH0sDQogICAgICAgIHsgaXRlbTogIkMiLCBuYW1lOiAiTDMiIH0NCiAgICAgIF0NCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgY2hhbmdlU3RhcnRUaW1lKCkgew0KICAgICAgdGhpcy5jaGVja0lucHV0cygpOw0KICAgICAgdGhpcy4kZW1pdCgic3RhcnRUaW1lIiwgdGhpcy5pbmRleCwgdGhpcy5lc2NvcnQuc3RhcnRUaW1lKTsNCiAgICB9LA0KICAgIGNoYW5nZVN0YXJ0RGF0ZSgpIHsNCiAgICAgIHRoaXMuY2hlY2tJbnB1dHMoKTsNCiAgICAgIHRoaXMuJGVtaXQoInN0YXJ0RGF0ZSIsIHRoaXMuaW5kZXgsIHRoaXMuZXNjb3J0LnN0YXJ0RGF0ZSk7DQogICAgfSwNCiAgICBjaGFuZ2VFbmREYXRlKCkgew0KICAgICAgdGhpcy5jaGVja0lucHV0cygpOw0KICAgICAgdGhpcy4kZW1pdCgiZW5kRGF0ZSIsIHRoaXMuaW5kZXgsIHRoaXMuZXNjb3J0LmVuZERhdGUpOw0KICAgIH0sDQogICAgY2hhbmdlRW5kVGltZSgpIHsNCiAgICAgIHRoaXMuY2hlY2tJbnB1dHMoKTsNCiAgICAgIHRoaXMuJGVtaXQoImVuZFRpbWUiLCB0aGlzLmluZGV4LCB0aGlzLmVzY29ydC5lbmRUaW1lKTsNCiAgICB9LA0KICAgIGNoYW5nZVNlbGVjdGVkKCkgew0KICAgICAgdGhpcy4kZW1pdCgic2VsZWN0ZWQiLCB0aGlzLmluZGV4LCB0aGlzLmVzY29ydC5zZWxlY3RlZCk7DQogICAgfSwNCiAgICBjaGVja0lucHV0cygpIHsNCiAgICAgIGlmICgNCiAgICAgICAgdGhpcy5lc2NvcnQuc3RhcnREYXRlICE9PSAiIiAmJg0KICAgICAgICB0aGlzLmVzY29ydC5zdGFydFRpbWUgIT09ICIiICYmDQogICAgICAgIHRoaXMuZXNjb3J0LmVuZERhdGUgIT09ICIiICYmDQogICAgICAgIHRoaXMuZXNjb3J0LmVuZFRpbWUgIT09ICIiDQogICAgICApIHsNCiAgICAgICAgbGV0IHN0YXJ0ID0gbmV3IERhdGUoDQogICAgICAgICAgdGhpcy5lc2NvcnQuc3RhcnREYXRlICsgIlQiICsgdGhpcy5lc2NvcnQuc3RhcnRUaW1lDQogICAgICAgICk7DQogICAgICAgIGxldCBlbmQgPSBuZXcgRGF0ZSh0aGlzLmVzY29ydC5lbmREYXRlICsgIlQiICsgdGhpcy5lc2NvcnQuZW5kVGltZSk7DQogICAgICAgIGxldCBiYXNlU3RhcnQgPSBuZXcgRGF0ZSh0aGlzLmJzZCArICJUIiArIHRoaXMuYnN0KTsNCiAgICAgICAgbGV0IGJhc2VFbmQgPSBuZXcgRGF0ZSh0aGlzLmJlZCArICJUIiArIHRoaXMuYmV0KTsNCiAgICAgICAgaWYgKHN0YXJ0ID49IGJhc2VTdGFydCAmJiBlbmQgPD0gYmFzZUVuZCkgew0KICAgICAgICAgIHRoaXMub3V0QmFzZVRpbWUgPSBmYWxzZTsNCiAgICAgICAgICBpZiAoZW5kIC0gc3RhcnQgPD0gMCkgew0KICAgICAgICAgICAgdGhpcy5uZWdUaW1lID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMudmFsaWRUaW1lID0gZmFsc2U7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMubmVnVGltZSA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy52YWxpZFRpbWUgPSB0cnVlOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLm91dEJhc2VUaW1lID0gdHJ1ZTsNCiAgICAgICAgICB0aGlzLnZhbGlkVGltZSA9IGZhbHNlOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnZhbGlkVGltZSA9IG51bGw7DQogICAgICB9DQogICAgICB0aGlzLiRlbWl0KCJ2YWxpZFRpbWUiLCB0aGlzLnZhbGlkVGltZSk7DQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGF4aW9zDQogICAgICAuZ2V0KHRoaXMudXJsICsgIi9nZXRMb25nTmFtZT9uYW1lPSIgKyB0aGlzLmVzY29ydC5uYW1lKQ0KICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgIHRoaXMubG9uZ25hbWUgPSBkYXRhLmxvbmc7DQogICAgICB9KTsNCiAgICB0aGlzLmNoZWNrSW5wdXRzKCk7DQogIH0NCn07DQo="},{"version":3,"sources":["EscortsComp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EscortsComp.vue","sourceRoot":"src/components/new","sourcesContent":["<template>\r\n  <b-container fluid>\r\n    <b-row>\r\n      <b-col cols=\"12\">\r\n        <center>\r\n          <h2>{{ longname }}</h2>\r\n        </center>\r\n\r\n        <b-form-group\r\n          :id=\"index + 'sdg'\"\r\n          label-cols-sm=\"4\"\r\n          label-cols-lg=\"3\"\r\n          content-cols-sm\r\n          content-cols-lg=\"7\"\r\n          description=\"Geben Sie das Startdatum der Schulveranstaltung ein.\"\r\n          label=\"Startdatum\"\r\n          label-for=\"std\"\r\n        >\r\n          <b-form-datepicker\r\n            :id=\"index + 'sdp'\"\r\n            v-model=\"escort.startDate\"\r\n            v-on:input=\"changeStartDate\"\r\n            :state=\"validTime\"\r\n            class=\"mb-2\"\r\n            placeholder=\"Datum auswählen\"\r\n          ></b-form-datepicker>\r\n          <b-form-invalid-feedback :id=\"index + 'sdp-feedback'\">\r\n            <a v-if=\"outBaseTime\">\r\n              Die Daten müssen zwischen Start und Ende der Exkursion sein!</a\r\n            ><br />\r\n            <a v-if=\"negTime\">\r\n              Das Startdatum darf nicht nach dem Enddatum sein!\r\n            </a>\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n        <b-form-group\r\n          :id=\"index + 'stg'\"\r\n          label-cols-sm=\"4\"\r\n          label-cols-lg=\"3\"\r\n          content-cols-sm\r\n          content-cols-lg=\"7\"\r\n          description=\"Geben Sie die Startzeit der Schulveranstaltung ein.\"\r\n          label=\"Startzeit\"\r\n          label-for=\"stz\"\r\n        >\r\n          <b-form-timepicker\r\n            :id=\"index + 'stp'\"\r\n            v-model=\"escort.startTime\"\r\n            v-on:input=\"changeStartTime\"\r\n            :state=\"validTime\"\r\n            locale=\"de\"\r\n            placeholder=\"Zeit auswählen\"\r\n          ></b-form-timepicker>\r\n          <b-form-invalid-feedback :id=\"index + 'stp-feedback'\">\r\n            <a v-if=\"outBaseTime\">\r\n              Die Daten müssen zwischen Start und Ende der Exkursion sein!</a\r\n            ><br />\r\n            <a v-if=\"negTime\">\r\n              Das Startdatum darf nicht nach dem Enddatum sein!\r\n            </a>\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n        <b-form-group\r\n          :id=\"index + 'edg'\"\r\n          label-cols-sm=\"4\"\r\n          label-cols-lg=\"3\"\r\n          content-cols-sm\r\n          content-cols-lg=\"7\"\r\n          description=\"Geben Sie das Enddatum der Schulveranstaltung ein.\"\r\n          label=\"Enddatum\"\r\n          label-for=\"end\"\r\n        >\r\n          <b-form-datepicker\r\n            :id=\"index + 'edp'\"\r\n            v-model=\"escort.endDate\"\r\n            v-on:input=\"changeEndDate\"\r\n            :state=\"validTime\"\r\n            class=\"mb-2\"\r\n            placeholder=\"Datum auswählen\"\r\n          ></b-form-datepicker>\r\n          <b-form-invalid-feedback :id=\"index + 'edp-feedback'\">\r\n            <a v-if=\"outBaseTime\">\r\n              Die Daten müssen zwischen Start und Ende der Exkursion sein!</a\r\n            ><br />\r\n            <a v-if=\"negTime\">\r\n              Das Startdatum darf nicht nach dem Enddatum sein!\r\n            </a>\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n        <b-form-group\r\n          :id=\"index + 'etg'\"\r\n          label-cols-sm=\"4\"\r\n          label-cols-lg=\"3\"\r\n          content-cols-sm\r\n          content-cols-lg=\"7\"\r\n          description=\"Geben Sie die Endzeit der Schulveranstaltung ein.\"\r\n          label=\"Endzeit\"\r\n          label-for=\"enz\"\r\n        >\r\n          <b-form-timepicker\r\n            :id=\"index + 'etp'\"\r\n            v-model=\"escort.endTime\"\r\n            v-on:input=\"changeEndTime\"\r\n            :state=\"validTime\"\r\n            locale=\"de\"\r\n            placeholder=\"Zeit auswählen\"\r\n          ></b-form-timepicker>\r\n          <b-form-invalid-feedback :id=\"index + 'etp-feedback'\">\r\n            <a v-if=\"outBaseTime\">\r\n              Die Daten müssen zwischen Start und Ende der Exkursion sein!</a\r\n            ><br />\r\n            <a v-if=\"negTime\">\r\n              Das Startdatum darf nicht nach dem Enddatum sein!\r\n            </a>\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n        <b-form-group\r\n          :id=\"index + 'gruppe'\"\r\n          label-cols-sm=\"4\"\r\n          label-cols-lg=\"3\"\r\n          content-cols-sm\r\n          content-cols-lg=\"7\"\r\n          description=\"Wählen Sie die Gruppe der Begleitperson\"\r\n          label=\"Gruppe\"\r\n          label-for=\"gr\"\r\n        >\r\n          <b-form-radio-group\r\n            :id=\"index + 'rg'\"\r\n            v-model=\"escort.selected\"\r\n            v-on:change=\"changeSelected\"\r\n            :options=\"options\"\r\n            class=\"mb-3\"\r\n            value-field=\"item\"\r\n            text-field=\"name\"\r\n            disabled-field=\"notEnabled\"\r\n          ></b-form-radio-group>\r\n        </b-form-group>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  props: [\"url\", \"escort\", \"index\", \"bsd\", \"bst\", \"bed\", \"bet\"],\r\n  data() {\r\n    return {\r\n      selected: \"\",\r\n      longname: \"\",\r\n      validTime: null,\r\n      outBaseTime: true,\r\n      negTime: true,\r\n      options: [\r\n        { item: \"A\", name: \"L1\" },\r\n        { item: \"B\", name: \"L2\" },\r\n        { item: \"C\", name: \"L3\" }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    changeStartTime() {\r\n      this.checkInputs();\r\n      this.$emit(\"startTime\", this.index, this.escort.startTime);\r\n    },\r\n    changeStartDate() {\r\n      this.checkInputs();\r\n      this.$emit(\"startDate\", this.index, this.escort.startDate);\r\n    },\r\n    changeEndDate() {\r\n      this.checkInputs();\r\n      this.$emit(\"endDate\", this.index, this.escort.endDate);\r\n    },\r\n    changeEndTime() {\r\n      this.checkInputs();\r\n      this.$emit(\"endTime\", this.index, this.escort.endTime);\r\n    },\r\n    changeSelected() {\r\n      this.$emit(\"selected\", this.index, this.escort.selected);\r\n    },\r\n    checkInputs() {\r\n      if (\r\n        this.escort.startDate !== \"\" &&\r\n        this.escort.startTime !== \"\" &&\r\n        this.escort.endDate !== \"\" &&\r\n        this.escort.endTime !== \"\"\r\n      ) {\r\n        let start = new Date(\r\n          this.escort.startDate + \"T\" + this.escort.startTime\r\n        );\r\n        let end = new Date(this.escort.endDate + \"T\" + this.escort.endTime);\r\n        let baseStart = new Date(this.bsd + \"T\" + this.bst);\r\n        let baseEnd = new Date(this.bed + \"T\" + this.bet);\r\n        if (start >= baseStart && end <= baseEnd) {\r\n          this.outBaseTime = false;\r\n          if (end - start <= 0) {\r\n            this.negTime = true;\r\n            this.validTime = false;\r\n          } else {\r\n            this.negTime = false;\r\n            this.validTime = true;\r\n          }\r\n        } else {\r\n          this.outBaseTime = true;\r\n          this.validTime = false;\r\n        }\r\n      } else {\r\n        this.validTime = null;\r\n      }\r\n      this.$emit(\"validTime\", this.validTime);\r\n    }\r\n  },\r\n  mounted() {\r\n    axios\r\n      .get(this.url + \"/getLongName?name=\" + this.escort.name)\r\n      .then(response => {\r\n        var data = response.data;\r\n        this.longname = data.long;\r\n      });\r\n    this.checkInputs();\r\n  }\r\n};\r\n</script>\r\n"]}]}